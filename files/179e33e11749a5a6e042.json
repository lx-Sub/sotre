{"key":"RootPage","formName":"批次号核验","formID":"CheckBatchno","lastAuthor":"9999","lastChanged":"2024-10-11 14:25:30","version":"React","compName":"表单画布","rootProps":{"scriptsCode":{"componentDidMount":"DCTPagingToolBar1.loadPage(1);"},"style":{"flexDirection":"column","flexWrap":"nowrap","justifyContent":"flex-start","alignItems":"flex-start","overflow":"auto","backgroundColor":"","padding":""}},"components":[{"key":"FormBoxContainer1","type":"FormBoxContainer","props":{"style":{"height":"100%","minHeight":"10px","width":"100%","minWidth":"10px","flexDirection":"column","flexWrap":"nowrap","justifyContent":"flex-start","alignItems":"flex-start","overflow":"hidden","opacity":1,"backgroundRepeat":"repeat","backgroundPosition":"left top","borderStyle":"solid","borderColor":"#d9d9d9","borderWidth":"0px","borderRadius":"0px","display":"flex","gap":"16px","paddingTop":"16px","paddingBottom":"16px","paddingRight":"16px","paddingLeft":"16px","backgroundColor":"rgba(255,255,255,1)","boxShadow":"var(--osp-custom-shadow)"},"scriptsCode":{"onClickHandler":"","afterCloseFullScreen":"","onMouseEnter":"","onMouseLeave":""}},"compName":"通用布局","children":[{"key":"FormBoxContainer2","type":"FormBoxContainer","props":{"style":{"height":"32px","minHeight":"10px","width":"100%","minWidth":"10px","flexDirection":"row","flexWrap":"nowrap","justifyContent":"flex-start","alignItems":"flex-start","overflow":"auto","opacity":1,"backgroundRepeat":"repeat","backgroundPosition":"left top","borderStyle":"solid","borderColor":"#d9d9d9","borderWidth":"0px","borderRadius":"0px","display":"flex","gap":"16px","backgroundColor":"var(--osp-box-container-background-color)","boxShadow":"var(--osp-custom-shadow)"},"scriptsCode":{"onClickHandler":"","afterCloseFullScreen":"","onMouseEnter":"","onMouseLeave":""}},"compName":"通用布局","children":[{"key":"FormButton1","type":"FormButton","props":{"labelText":"编辑","isShowTitle":false,"titleToolTipCustomText":"","isShowBadge":false,"leftOffset":-5,"topOffset":-33,"action":"MDMEditAction1","scriptsCode":{"onClick":"","onDoubleClick":"","onMouseEnter":"","onMouseLeave":"","onMouseOver":""},"style":{"height":"28px","width":"70px","backgroundColor":"rgba(24, 144, 255, 1)","opacity":1,"borderStyle":"none","borderWidth":"0px","borderRadius":"2px","color":"#FFFFFF","fontSize":"14px","textAlign":"center","fontWeight":"normal","fontStyle":"normal","textDecoration":"none","cursor":"pointer"},"compSize":"","badgeShowZero":true},"compName":"按钮","children":[]},{"key":"FormButton2","type":"FormButton","props":{"labelText":"增加","isShowTitle":false,"titleToolTipCustomText":"","isShowBadge":false,"leftOffset":-5,"topOffset":-33,"action":"MDMAddItemAction1","scriptsCode":{"onClick":"","onDoubleClick":"","onMouseEnter":"","onMouseLeave":"","onMouseOver":""},"style":{"height":"28px","width":"70px","backgroundColor":"#FFFFFF","opacity":1,"borderStyle":"solid","borderColor":"rgba(24, 144, 255, 1)","borderWidth":"1px","borderRadius":"2px","color":"rgba(24, 144, 255, 1)","fontSize":"14px","textAlign":"center","fontWeight":"normal","fontStyle":"normal","textDecoration":"none","cursor":"pointer"},"compSize":"","badgeShowZero":true},"compName":"按钮","children":[]},{"key":"FormButton3","type":"FormButton","props":{"labelText":"删除","isShowTitle":false,"titleToolTipCustomText":"","isShowBadge":false,"leftOffset":-5,"topOffset":-33,"action":"MDMRemoveItemAction1","scriptsCode":{"onClick":"","onDoubleClick":"","onMouseEnter":"","onMouseLeave":"","onMouseOver":""},"style":{"height":"28px","width":"70px","backgroundColor":"#FFFFFF","opacity":1,"borderStyle":"solid","borderColor":"rgba(24, 144, 255, 1)","borderWidth":"1px","borderRadius":"2px","color":"rgba(24, 144, 255, 1)","fontSize":"14px","textAlign":"center","fontWeight":"normal","fontStyle":"normal","textDecoration":"none","cursor":"pointer"},"compSize":"","badgeShowZero":true},"compName":"按钮","children":[]},{"key":"FormButton4","type":"FormButton","props":{"labelText":"保存","isShowTitle":false,"titleToolTipCustomText":"","isShowBadge":false,"leftOffset":-5,"topOffset":-33,"action":"MDMSaveAction1","scriptsCode":{"onClick":"","onDoubleClick":"","onMouseEnter":"","onMouseLeave":"","onMouseOver":""},"style":{"height":"28px","width":"70px","backgroundColor":"#FFFFFF","opacity":1,"borderStyle":"solid","borderColor":"rgba(24, 144, 255, 1)","borderWidth":"1px","borderRadius":"2px","color":"rgba(24, 144, 255, 1)","fontSize":"14px","textAlign":"center","fontWeight":"normal","fontStyle":"normal","textDecoration":"none","cursor":"pointer"},"compSize":"","badgeShowZero":true},"compName":"按钮","children":[]},{"key":"FormButton5","type":"FormButton","props":{"labelText":"核验选中","badgeShowZero":true,"topOffset":-28,"scriptsCode":{"onClick":"// (核验选中)FormButton5.onClick\nvar po = new JParamObject();\nvar dataSet = AGGrid1.getSelectedDataSet();\nvar flag = true;\nfor(var i=0; i< dataSet.getRowCount(); i++){\n    var rowSet = dataSet.getRowSet(i);\n\tvar check =  rowSet.getObject(\"checksta\");\n    if (check==1) {\n        flag = false;\n        window.showAlertMsg('系统提示', '选择数据不正确,请重新选择', '1', '确定', null);\n    }\n}\nif(flag){\n    po.setValueByParamName(\"dataset\",dataSet);\n    po.jsonTypeLimit.set(\"dataset\",\"com.efounder.builder.base.data.EFDataSet\");\n    window.showConfirmMsg('系统提示', '是否确定核验?',\"MESSAGE_NORMAL\",'确定', '取消', function(){\n        WebService1.SVR(\"CheckBatchNo\", po, null);\n    } , null);\n}","onMouseEnter":"","onMouseLeave":"","onMouseOver":""},"style":{"opacity":1,"borderStyle":"solid","borderColor":"rgba(0, 0, 0, 0.15)","borderWidth":"1px","color":"#262626","fontSize":"14px","textAlign":"center","fontWeight":"normal","fontStyle":"normal","textDecoration":"none","padding":"0 16px 0 16px","cursor":"pointer","paddingTop":"0","paddingRight":"16px","paddingBottom":"0","paddingLeft":"16px","width":"94px","backgroundColor":"var(--osp-form-button-background-color)","borderRadius":"var(--osp-form-button-border-radius)","height":"var(--osp-form-button-height)"},"isShowTitle":false,"titleToolTipCustomText":"","compSize":"","isShowBadge":false,"leftOffset":0,"action":""},"compName":"核验选中","children":[]}]},{"key":"AGGrid1","type":"AGGrid","props":{"columnModel":"ColumnModel1","gridCellEditorManager":[],"PopupMenuManager":[],"editable":true,"singleClickEdit":false,"sortable":false,"showRowNum":true,"showCheckBox":true,"columnsFit":false,"showColumnFooter":false,"treeLinkGrid":false,"headerHeight":40,"headerFontColor":"#262626","headerFontSize":"14px","headerFontFamily":"Microsoft YaHei","headFontWeight":400,"headerBkgColor":"#fafafa","bodyFontColor":"#262626","bodyFontSize":"14px","bodyFontFamily":"Microsoft YaHei","rowHeight":40,"showBorderRight":true,"rowBkgColor":"","scriptsCode":{"onRowClicked":"","onRowDoubleClicked":"","onCellValueChanged":"","onSelectionChanged":""},"dataModel":"MDModel1","dataSetID":"batchinfo","style":{"height":"100%","width":"100%"},"compSize":"","enableRangeSelection":false,"backSortable":false,"resizable":false,"widthRowNum":60,"rowNumTextInFooter":"","isGoToRowDebounce":false,"checkBoxDisableExp":"","multiRemainSelection":true,"multiRemainClickRowSetNoSelection":false,"enableMovableColumns":true,"selectFirstRow":false,"diabledCursorChanged":false,"calculateSelectedRowColumnFooter":false,"hideAndCalculateColumnFooter":false,"enableMasterDetail":false,"childColumnModel":"","showDetailCheckBox":false,"showDetailRowNum":false,"hideDetailColumnHeader":false,"hideColumnHeader":false,"showEditableBadge":false,"showDisableBgColor":false,"hideFocusBorder":false,"cellFocusTextSelectAll":false,"checkBoxBkgColor":"","useOddRowBkgColor":true,"isCacheColumnVisible":false,"isCacheColumnOrder":false,"serverCacheColumnVisible":false,"serverCacheColumnOrder":false,"isShowColumnMenu":false,"showColumnConfig":false,"autoHeight":false,"asyncInsertRow":false,"columnVirtualisation":true,"rowDomVirtualisation":true,"rowBuffer":10,"alignedGrids":[],"cacheGrid":false,"checkRowMark":"","childDataModel":"","childDataSetID":""},"compName":"业务表格","children":[]},{"key":"DCTPagingToolBar1","type":"DCTPagingToolBar","props":{"mdModel":"MDModel1","everyPageRowNum":10,"isShowEveryPageNumber":true,"isShowTZPage":true,"scriptsCode":{"onClickFirstButton":"","onClickPreviousButton":"","onClickNextButton":"","onClickLastButton":""},"style":{"height":"32px","width":"100%","justifyContent":"flex-end","alignItems":"flex-end"},"maxLength":1000,"switchPageSizeOnBlur":false,"isShowRowCount":true,"isShowBegin":true,"isShowEnd":true,"cacheLoadedData":false,"cacheEveryPageRowNum":false},"compName":"字典分页","children":[]}]}],"dataModels":[{"key":"MDModel1","type":"MDModel","props":{"providerService":"LargeDICTService","resolverService":"SYS_MDM_RESOLVER","DCT_ID":"batchinfo","dataChecker":"","valueManager":"","dataBase":"","paramConverter":"","scriptsCode":{"setParamObject":"","endLoad":"","beforeSave":"","dataSetUpdated":"","onFail":"","afterSave":""},"MDL_ID":"","FKEY_ID":"","RLGL_ID":"","afterLoadStartEdit":false,"showBusyWindow":true,"useDictLimit":false,"defaultValueAddBlank":false,"maxBmIOMQuery":false,"enableLoadMetaData":true,"treeCardMaintain":false,"isLoadFKey":"1","serverCors":false,"DCT_BMCOLID":"","DCT_MCCOLID":"","DCT_JSCOLID":"","DCT_MXCOLID":"","DCT_PTCOLID":"","DCT_BMSTRU":"","DCT_FIXLEN":"0","DCT_STEP":"","CodeRule":"","LEVEL_TYPE":"","style":{}},"compName":"字典模型","children":[]},{"key":"ColumnModel1","type":"ColumnModel","props":{"scriptsCode":{"beginEdit":""},"formModel":"","CTN_ID":"","customDataSetID":"","style":{}},"compName":"列模型","children":[{"key":"Column1","type":"Column","props":{"headerText":"批次号","allHeaderText":"","colExplainInfo":"","dataSetColID":"batchno","viewDataSetID":"","viewDataSetColID":"","pinned":"","visible":true,"editable":true,"resizable":true,"showTooltip":false,"headTextAlign":"center","textAlign":"flex-start","width":"200","widthMode":"auto","columnType":"C","editorType":"1","headerCheckbox":false,"leftHelpBHColID":"","leftHelpMCColID":"","rightHelpCompTypeColID":"","rightHelpCompValueColID":"","actionList":"","textRowLimit":"","dateFormat":"YYYY-MM-DD","urlMap":"","mask":"","format":"","bigNumberMode":false,"numberFormat":"","textFormat":"#,##0","numberPrecision":2,"enableExp":"","isCalcFormula":false,"formula":"","footerLabel":"","footerOperation":"none","footerFormulaConditions":"","isFooterToolTip":false,"footerToolTip":"","calcuFooterAfterRowSpan":true,"pivot":false,"enableValue":false,"enablePivot":false,"enableRowGroup":false,"rowGroup":false,"rowGroupAggFunc":null,"backgroundColor":"","cellBackgroundColorMap":"","cellFontColorMap":"","propertyMap":"","urlColHeadMap":"","wordWrap":false,"verticalMergeable":false,"horizontalMergeable":false,"baseMergeColId":"","isInputPercentVal":false,"showPrompt":false,"trimText":false,"negativeInRed":false,"showZero":true,"showNullDataLine":false,"requiredStartRed":true,"isShowColumnMenu":true,"sortable":true,"bzzviewDataSetID":"","bzzviewDataSetColID":"","zdyviewDataSetID":"","zdyviewDataSetColID":"","style":{}},"compName":"批次号","children":[]},{"key":"Column2","type":"Column","props":{"headerText":"检核状态","allHeaderText":"","colExplainInfo":"","dataSetColID":"checksta","viewDataSetID":"","viewDataSetColID":"","pinned":"","visible":true,"editable":true,"resizable":true,"showTooltip":false,"headTextAlign":"center","textAlign":"flex-start","width":"200","widthMode":"auto","columnType":"C","editorType":"6","headerCheckbox":false,"leftHelpBHColID":"","leftHelpMCColID":"","rightHelpCompTypeColID":"","rightHelpCompValueColID":"","actionList":"","textRowLimit":"","dateFormat":"YYYY-MM-DD","urlMap":"","mask":[{"value":"0","label":"未核验","":""},{"value":"1","label":"核验中","":""},{"value":"2","label":"已核验","":""}],"format":"","bigNumberMode":false,"numberFormat":"","textFormat":"#,##0","numberPrecision":2,"enableExp":"","isCalcFormula":false,"formula":"","footerLabel":"","footerOperation":"none","footerFormulaConditions":"","isFooterToolTip":false,"footerToolTip":"","calcuFooterAfterRowSpan":true,"pivot":false,"enableValue":false,"enablePivot":false,"enableRowGroup":false,"rowGroup":false,"rowGroupAggFunc":null,"backgroundColor":"","cellBackgroundColorMap":"","cellFontColorMap":"","propertyMap":"","urlColHeadMap":"","wordWrap":false,"verticalMergeable":false,"horizontalMergeable":false,"baseMergeColId":"","isInputPercentVal":false,"showPrompt":false,"trimText":false,"negativeInRed":false,"showZero":true,"showNullDataLine":false,"requiredStartRed":true,"isShowColumnMenu":true,"sortable":true,"bzzviewDataSetID":"","bzzviewDataSetColID":"","zdyviewDataSetID":"","zdyviewDataSetColID":"","style":{}},"compName":"检核状态","children":[]}]},{"key":"WebService1","type":"WebService","props":{"scriptsCode":{"beforeIOM":"","beforeSVR":"","callFunction":""},"dataBase":"","paramConverter":"","callBackFunc":"FunctionComp1","showBusyWindow":true,"style":{}},"compName":"服务调用","children":[]},{"key":"FunctionComp1","type":"FunctionComp","props":{"scriptsCode":{"callFunction":"// (回调函数)FunctionComp1.callFunction\nvar result = data.getResponseValue(\"result\",\"\");\n//传入的批次号有已经核验的返回\nif (result!=null && result!='') {\n window.showAlertMsg('系统提示', result, '1', '确定', null);\n}\nDCTPagingToolBar1.loadPage(1);"},"style":{}},"compName":"回调函数","children":[]}],"actionComps":[{"key":"MDMEditAction1","type":"MDMEditAction","props":{"actionText":"编辑","width":"70px","height":"30px","visible":true,"icon":"","activeIcon":"","hoverIcon":"","visibleExpression":"","enableExpression":"","GNBH":"","isOperateLog":false,"operateLog":"","dataModel":"MDModel1","scriptsCode":{"endStartEdit":"","doAction":""},"style":{}},"compName":"主数据编辑"},{"key":"MDMAddItemAction1","type":"MDMAddItemAction","props":{"actionText":"增加","width":"70px","height":"30px","visible":true,"icon":"","activeIcon":"","hoverIcon":"","visibleExpression":"","enableExpression":"","GNBH":"","isOperateLog":false,"operateLog":"","dataModel":"MDModel1","addPosition":"Next","selectInsertedRow":true,"scriptsCode":{"onClick":"","beforeCreateMdmItem":"","doAction":""},"style":{}},"compName":"主数据增加"},{"key":"MDMRemoveItemAction1","type":"MDMRemoveItemAction","props":{"actionText":"删除","width":"70px","height":"30px","visible":true,"icon":"","activeIcon":"","hoverIcon":"","visibleExpression":"","enableExpression":"","GNBH":"","isOperateLog":false,"operateLog":"","dataModel":"MDModel1","scriptsCode":{"beforeRemove":"","endRemove":"","doAction":""},"style":{}},"compName":"主数据删除"},{"key":"MDMSaveAction1","type":"MDMSaveAction","props":{"actionText":"保存","enableShowTip":true,"saveTip":"保存成功","enableShowErrorTip":true,"width":"70px","height":"30px","visible":true,"icon":"","activeIcon":"","hoverIcon":"","visibleExpression":"","enableExpression":"","GNBH":"","isOperateLog":false,"operateLog":"","dataModel":"MDModel1","style":{}},"compName":"主数据保存"}],"serverJsComps":[],"tableSource":[{"tableName":"批次号表","tableID":"batchinfo"}]}